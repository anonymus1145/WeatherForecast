(()=>{function m(){let d=document.querySelector("body");d?.classList.add("bg-fixed","bg-cover","bg-no-repeat"),d?.setAttribute("style","background-image: url(/img/pexels-simon-berger-1183099.jpg)");let a=document.createElement("h1");a.textContent="Weather Forecast",a.classList.add("text-center","text-6xl","text-white","mt-20","mb-10"),d?.appendChild(a);let t=document.createElement("div");t.classList.add("flex","justify-center"),t.setAttribute("id","form"),d?.appendChild(t);let e=document.createElement("input");e.type="text",e.setAttribute("id","search"),e.classList.add("my-10","py-2","w-1/4","text-sm","text-white","bg-inherit","rounded-md","pl-10","hover:bg-slate-800","focus:bg-slate-800"),e.placeholder="Search for a city...",t?.appendChild(e);let n=document.createElement("button");n.classList.add("my-10","py-2","px-4","text-sm","text-white","bg-inherit","rounded-md"),n.setAttribute("id","submit"),t?.appendChild(n);let o=document.createElement("span");o.textContent="search",o.classList.add("material-symbols-outlined"),n?.appendChild(o)}function u(){return{temp_c:0,temp_f:0,region:"",country:"",date:""}}async function h(d){let t=await(await fetch(`http://api.weatherapi.com/v1/current.json?key=613ea2e1e83f470587d155741232311&q=${d}&aqi=yes`)).json(),e=u();return e.temp_c=t.current.temp_c,e.temp_f=t.current.temp_f,e.region=t.location.region,e.country=t.location.country,e.date=t.location.localtime,e}async function p(){let d=document.getElementById("search"),a;d.value!==""&&(a=await h(d.value));let t=document.createElement("span");t.classList.add("loading","loading-spinner","loading-lg"),document.getElementById("form")?.appendChild(t),setTimeout(()=>{document.getElementById("form")?.removeChild(t);let e=document.createElement("dialog");e.classList.add("modal"),e.setAttribute("id","my_modal_2"),e.setAttribute("open","true"),document.body.appendChild(e);let n=document.createElement("div");n.classList.add("modal-box"),e.appendChild(n);let o=document.createElement("h3");o.classList.add("text-lg","font-bold"),o.textContent="Weather in "+a?.region,n.appendChild(o);let i=document.createElement("p");i.classList.add("py-4"),i.textContent="Today: "+a?.date,n.appendChild(i);let r=document.createElement("p");r.classList.add("py-4"),r.textContent="Temperature: "+a?.temp_c+"\xB0C / "+a?.temp_f+"\xB0F",n.appendChild(r);let c=document.createElement("p");c.classList.add("py-4"),c.textContent="Country: "+a?.country,n.appendChild(c);let s=document.createElement("form");s.classList.add("modal-backdrop"),s.setAttribute("method","dialog"),e.appendChild(s);let l=document.createElement("button");l.classList.add("btn","btn-primary","hover:bg-slate-300","focus:bg-slate-300"),l.textContent="Close",l.addEventListener("click",()=>{e.remove(),d.value=""}),n.appendChild(l)},3e3)}document.addEventListener("DOMContentLoaded",()=>{m(),document.getElementById("submit")?.addEventListener("click",()=>{p()})});})();
